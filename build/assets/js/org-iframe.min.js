"use strict";var debug_mode=!1,__organization_field_maps=null,__organization_id=null,__thisV2Client=ZAFClient.init();function __init(n){__thisV2Client.metadata().then(function(n){(__organization_field_maps=JSON.parse(n.settings.mailchimp_organization_field_mappings)).push({zendesk_field:"mailshot_customer_display_name"})},function(n){console.error("Could not get your app settings, please check your internet connection and try again")}),__thisV2Client.get("organization.id").then(function(n){__organization_id=n["organization.id"]},function(n){console.error("Could not get your app settings, please check your internet connection and try again")}),__thisV2Client.on("*.changed",__formFieldChanged)}function __formFieldChanged(n){for(var i=null,t=null,e=n.propertyName,_=0;_<__organization_field_maps.length;_++)if(e==="organization."+__organization_field_maps[_].zendesk_field){i=__organization_field_maps[_].zendesk_field,t=n.newValue;break}null!==i&&__triggerInstances(__thisV2Client,"zendeskOrganizationUpdated",{organizationId:__organization_id,fieldName:i,newValue:t})}function __triggerInstances(e,_,a){var o=e._instanceGuid;__thisV2Client.get("instances").then(function(n){var i=n.instances;for(var t in i)t!==o&&"organization_sidebar"!==i[t].location&&e.instance(t).trigger(_,a)})}__thisV2Client.on("app.registered",function(n){__init(n)}),__thisV2Client.on("app.activated",function(n){__thisV2Client.on("*.changed",__formFieldChanged)}),__thisV2Client.on("app.deactivated",function(n){__thisV2Client.off("*.changed",__formFieldChanged)});